(function(l,f){typeof exports=="object"&&typeof module<"u"?module.exports=f(require("vue"),require("element-plus")):typeof define=="function"&&define.amd?define(["vue","element-plus"],f):(l=typeof globalThis<"u"?globalThis:l||self,l.WalTablePagination=f(l.Vue,l.elementPlus))})(this,function(l,f){"use strict";const S=l.defineComponent({name:"WalTablePagination"}),p=Object.assign(S,{props:{pageSizes:{type:Array,default(){return[10,20,50,100,200]}},data:{type:Array,required:!0},currentPage:{type:Number,required:!0},pageSize:{type:Number,required:!1},total:{type:Number,required:!0}},emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-click","cell-dblclick","cell-contextmenu","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","table-current-change","header-dragend","expand-change","size-change","pagination-current-change","prev-click","next-click"],setup(b,{expose:E,emit:c}){const C=b;function _(n,e){return l.computed(()=>({data:n==null?void 0:n.data,height:e==null?void 0:e.height,"max-height":e==null?void 0:e["max-height"],stripe:e==null?void 0:e.stripe,border:e==null?void 0:e.border,size:e==null?void 0:e.size,fit:e==null?void 0:e.fit,"show-header":e==null?void 0:e["show-header"],"highlight-current-row":e==null?void 0:e["highlight-current-row"],"current-row-key":e==null?void 0:e["current-row-key"],"row-class-name":e==null?void 0:e["row-class-name"],"row-style":e==null?void 0:e["row-style"],"cell-class-name":e==null?void 0:e["cell-class-name"],"cell-style":e==null?void 0:e["cell-style"],"header-row-class-name":e==null?void 0:e["header-row-class-name"],"header-row-style":e==null?void 0:e["header-row-style"],"header-cell-class-name":e==null?void 0:e["header-cell-class-name"],"header-cell-style":e==null?void 0:e["header-cell-style"],"row-key":e==null?void 0:e["row-key"],"empty-text":e==null?void 0:e["empty-text"],"default-expand-all":e==null?void 0:e["default-expand-all"],"expand-row-keys":e==null?void 0:e["expand-row-keys"],"default-sort":e==null?void 0:e["default-sort"],"tooltip-effect":e==null?void 0:e["tooltip-effect"],"show-summary":e==null?void 0:e["show-summary"],"sum-text":e==null?void 0:e["sum-text"],"summary-method":e==null?void 0:e["summary-method"],"span-method":e==null?void 0:e["span-method"],"select-on-indeterminate":e==null?void 0:e["select-on-indeterminate"],indent:e==null?void 0:e.indent,lazy:e==null?void 0:e.lazy,load:e==null?void 0:e.load,"tree-props":e==null?void 0:e["tree-props"],"table-layout":e==null?void 0:e["table-layout"],"scrollbar-always-on":e==null?void 0:e["scrollbar-always-on"],flexible:e==null?void 0:e.flexible}))}function A(n){var e;return((e=n.type)==null?void 0:e.name)==="ElTableColumn"}function P(n,e){return l.computed(()=>({small:e==null?void 0:e.small,background:e==null?void 0:e.background,"page-size":n==null?void 0:n.pageSize,"default-page-size":e==null?void 0:e["default-page-size"],total:n==null?void 0:n.total,"page-count":e==null?void 0:e["page-count"],"pager-count":e==null?void 0:e["pager-count"],"current-page":n==null?void 0:n.currentPage,"default-current-page":e==null?void 0:e["default-current-page"],layout:(e==null?void 0:e.layout)||"total, sizes, prev, pager, next, jumper","page-sizes":n==null?void 0:n.pageSizes,"popper-class":e==null?void 0:e["popper-class"],"prev-text":e==null?void 0:e["prev-text"],"next-text":e==null?void 0:e["next-text"],disabled:e==null?void 0:e.disabled,"hide-on-single-page":e==null?void 0:e["hide-on-single-page"]}))}const k=l.useAttrs(),T=_(C,k),N=P(C,k),x=l.computed(()=>{var o,u;const n=(u=(o=l.useSlots()).default)==null?void 0:u.call(o),e=[],i=[],d=[];return n==null||n.forEach(h=>{if(A(h)){const{fixed:g}=h.props||{};if(g){if(g==="left")return e.push(h);if(g==="right")return i.push(h)}else return d.push(h)}}),{tableLeft:e,tableRight:i,contents:d}}),m=l.reactive({slot:l.computed(()=>x.value.contents.map(({props:n})=>({prop:n.prop,label:n.label,visiable:n.visiable||!0}))),storage:[],render:l.computed(()=>{const n=[...m.slot],e=[...m.storage],i=[];return e.forEach(d=>{const o=n.findIndex(({prop:u})=>u===d.prop);if(o>=0){const u=n[o];i.push({...u,...d}),n.splice(o,1)}}),i.push(...n),i})}),y=l.computed(()=>{const{contents:n}=x.value,e=[];return m.render.forEach(({prop:i,visiable:d})=>{if(!d)return;const o=n.find(h=>{var g;return i===((g=h.props)==null?void 0:g.prop)});if(!o)return;const u=l.cloneVNode(o);e.push(u)}),e}),w=l.ref(0);l.watch(y,()=>w.value+=1);const q=()=>[x.value.tableLeft,y.value,x.value.tableRight];function D(n){c("size-change",n)}function R(n){c("pagination-current-change",n)}function B(n){c("prev-click",n)}function L(n){c("next-click",n)}function M(n){c("select",n)}function V(n){c("select-all",n)}function j(n){c("selection-change",n)}function H(n){c("cell-mouse-enter",n)}function F(n){c("cell-mouse-leave",n)}function W(n){c("cell-click",n)}function I(n){c("cell-dblclick",n)}function O(n){c("cell-contextmenu",n)}function a(n){c("row-click",n)}function G(n){c("row-contextmenu",n)}function J(n){c("row-dblclick",n)}function K(n){c("header-click",n)}function Q(n){c("header-contextmenu",n)}function U(n){c("sort-change",n)}function X(n){c("filter-change",n)}function Y(n){c("table-current-change",n)}function Z(n){c("header-dragend",n)}function $(n){c("expand-change",n)}const z=l.ref();return E({table:z,columns:l.computed(()=>l.readonly(m.render)),updateColumns(n){m.storage=n}}),(n,e)=>(l.openBlock(),l.createElementBlock("div",null,[l.createVNode(l.unref(f.ElTable),l.mergeProps({ref_key:"table",ref:z},l.unref(T),{onSelect:M,onSelectAll:V,onSelectionChange:j,onCellMouseEnter:H,onCellMouseLeave:F,onCellClick:W,onCellDblclick:I,onCellContextmenu:O,onRowClick:a,onRowContextmenu:G,onRowDblclick:J,onHeaderClick:K,onHeaderContextmenu:Q,onSortChange:U,onFilterChange:X,onCurrentChange:Y,onHeaderDragend:Z,onExpandChange:$}),{default:l.withCtx(()=>[(l.openBlock(),l.createBlock(q,{key:w.value}))]),_:1},16),l.createVNode(l.unref(f.ElPagination),l.mergeProps(l.unref(N),{onSizeChange:D,onCurrentChange:R,onPrevClick:B,onNextClick:L}),null,16)]))}});return p.install=function(b){b.component(p.name,p)},p});
